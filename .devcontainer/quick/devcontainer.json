// For format details, see https://aka.ms/devcontainer.json
{
  "name": "Development environments on your infrastructure",
  "image": "sharp6292/armada-image:latest",
  // Use 'forwardPorts' to make a list of ports inside the container available locally.
  // "forwardPorts": [],
  "postStartCommand": "sudo dockerd &",
  // privileged is required by GitHub codespaces - https://github.com/microsoft/vscode-dev-containers/issues/727
  "runArgs": [
    "--cap-add=SYS_PTRACE",
    "--security-opt",
    "seccomp=unconfined",
    "--privileged",
    "--init"
  ],
  // Add startup commands here.
  "postAttachCommand": "cd localdev && sh ./scripts/kind-start.sh && cd .. && ./localdev/run.sh"
}